# ダイヤグラムによるプログラミング言語についての覚え書き

## どうして図形によるプログラミングか

プログラミング言語を使う際に壁になること(プログラミング言語でプログラミングを学習する場合につまづきやすいこと)として、
文法を覚えなければいけないということがあります。

プログラムを書くとき、まず文法を覚え、不十分な理解でアタマの中に「不完全な文法」ができあがります。
動かしてエラーになった際に文法の間違いを探すのは徒労感があります。
初心者がプログラミングをきらいになる理由のひとつです。

![文法を覚える大変さの概念図](./image/1st_step_of_programming.png "キャプチャ(パラメーターの定義画面)")

これを避けるアプローチのひとつとして、文法を極力排除したプログラミング言語があると思います。

極力それを排除して、ガイドされたプログラミングを実現すると、以下の特徴があると思います。
- たくさんコードを書くプログラム言語なら、そんなに意味がない。
- たまにしか使わないプログラム言語なら有効。

言い換えるとDSLの場合は、以下:
- 文法を理解したり、覚えたりすることのコスト
- 書いて違ってて実行時にエラーになり、モチベーションが削がれてしまう

が普通の汎用的なプログラム言語より大きいと思います。
(DSLは用途により沢山の言語があること)。

このため、図形言語でビジュアルプログラミングする効果が、用途が汎用的なプログラミング言語より出やすいと思います。

## 角度について (弧度法 vs 度数法)
円周上に点を並べたり、アフィン変換を作成するときの角度は以下のように取り扱います。
- 360°で一周
- 始点は12時の位置
- 時計回り

弧度法(ラジアン)でなく度数法(0°～360°)にしているのは、角度を数値で入力する場合ラジアンでは 1/3π, 1/2π, π, 2π 等は具体的な数値の指定がしづらく、60, 90, 180, 360 の方が指定しやすいためです。

## 固定精度整数の非サポートについて
固定精度の整数(8bit, 16bit, 32bit, 64bit, etc)はサポートしません。

昔は多倍長精度の整数は特殊なものでしたが(もともと基本的には固定精度の整数の取り扱いのみが存在し、多倍長精度は処理時間がかかる特殊なものでした)、いまは特にそういうこともないと思います。

固定精度整数と多倍長精度が両方使える処理系(システム)において、多倍長精度が必要ない場合は
固定精度整数を良く、そのメリットは計算速度やメモリ領域のオーバーヘッドです。

このプログラミング環境では元々(CやJavaをはじめとする通常のプログラミング言語と比べて)巨大なオーバーヘッドがあるため、
固定精度整数／多倍長精度の速度の違いを差を気にしても仕方がありません。

## 単精度浮動小数点の非サポートについて
固定精度の整数をサポートしないのと同一の理由で、倍精度浮動小数点(double精度)のみをサポートしています。

## 多倍長精度の小数について
多倍長精度での小数をサポートしていますが、図形関連は浮動小数点(double精度)で行っています。

## mod の返り値
剰余演算子(mod)は、常に正の数(または0)を返り値にします。
このため a / b = c あまり d としたときに、「 b * c + d == a 」は一般に成立しません。


## 変数名に使用可能な文字

変数名は半角の記号文字や空白を含むことはできません。
全角の文字に対する入力制限は特に行っていません(構文解析をしないこともあり)。
絵文字は現状の実装だと文字化けするようです。このため、事実上、変数名に絵文字等は使えません。

