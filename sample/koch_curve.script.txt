# コッホ曲線

# 入力項目
'N "角の数(ベースにするN角形のN)" 3 default-enum[3,4,5,6,7,8,9]

'ratio "コッホ曲線内側の比率" 0.29 default-slider[0,1]
'size "大きさ" 1 default-slider[0.3,1.5]
'theta "回転" 0 default-slider[0,6.28318530718]
input_params

## 凸凹側
# 外側: N角形の頂点をスタックにpushする。
6 0.5 0 series_on_circle
# 内側: N角形の頂点をスタックにpushする。
6 ratio 2pi 6 / 0.5 * series_on_circle

# 2系列を1系列にまとめる
zipper_from_2_series

# 系列の部分を取り出す
0 5 sub_sequence

## ベース側
# 外側: N角形の頂点をスタックにpushする。
N size theta series_on_circle
# 系列を閉じる(頂点を追加する)
close_list

# デバッグ用途でベース側頂点を残す
duplicate

# 適用
3 pick  apply_as_texture
3 pick  apply_as_texture
3 pick  apply_as_texture
3 pick  apply_as_texture
3 pick  apply_as_texture

# 系列から線分を作る
line_from_1_series
line_to_draw
